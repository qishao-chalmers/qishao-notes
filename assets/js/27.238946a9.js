(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{483:function(s,e,n){"use strict";n.r(e);var a=n(8),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"_1-add-register-class-in-riscv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-add-register-class-in-riscv"}},[s._v("#")]),s._v(" 1. Add Register Class in RISCV")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('// RegACE - 4-bit register for RISC-V ACE inst\nclass RISCVRegACE<bits<16> Enc, string n, list<string> alt = []> : Register<n> {\n  let HWEncoding = Enc;\n  let AltNames = alt;\n}\n\n// Define the ACE registers\nlet RegAltNameIndices = [ABIRegAltName] in {\n  //foreach Index = !range(0, 16, 1) in {\n  //  def ACE#Index : RISCVRegACE<Index, "ace_reg_"#Index, ["ace_reg_"#Index]>, DwarfRegNum<[!add(Index, 128)]>;\n  //}\n  def ACE0  : RISCVRegACE<0, "ace_reg_0", ["ace_reg_0"]>, DwarfRegNum<[128]>;\n  def ACE1  : RISCVRegACE<1, "ace_reg_1", ["ace_reg_1"]>, DwarfRegNum<[129]>;\n  def ACE2  : RISCVRegACE<2, "ace_reg_2", ["ace_reg_2"]>, DwarfRegNum<[130]>;\n  def ACE3  : RISCVRegACE<3, "ace_reg_3", ["ace_reg_3"]>, DwarfRegNum<[131]>;\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("anonymous_8306: \t(trunc:{ *:[i16] m1:[i16 i32] } GPR:{ *:[i32] m1:[i32 i64] }:$src)\nIncluded from /home/qishao/Project/llvm-project/llvm/lib/Target/RISCV/RISCV.td:30:\n/home/qishao/Project/llvm-project/llvm/lib/Target/RISCV/RISCVInstrInfo.td:1915:1: error: In anonymous_8306: Could not infer all types in pattern!\ndef : Pat<(trunc GPR:$src), (COPY GPR:$src)>;\n^\nanonymous_8306: \t(trunc:{ *:[i16] m1:[i16 i32] } GPR:{ *:[i32] m1:[i32 i64] }:$src)\nanonymous_8306: \t(COPY:{ *:[i16] m1:[i16 i32] } GPR:{ *:[i32] m1:[i32 i64] }:$src)\nIncluded from /home/qishao/Project/llvm-project/llvm/lib/Target/RISCV/RISCV.td:30:\n/home/qishao/Project/llvm-project/llvm/lib/Target/RISCV/RISCVInstrInfo.td:1915:1: error: In anonymous_8306: Could not infer all types in pattern result!\ndef : Pat<(trunc GPR:$src), (COPY GPR:$src)>;\n^\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("The failed issues after I def ACE Register Class")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('def ACE : RegisterClass<"RISCV", [i16], 16, (add\n    (sequence "ACE%u", 0, 3)\n)>;\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);