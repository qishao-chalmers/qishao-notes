(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{485:function(n,e,s){"use strict";s.r(e);var t=s(8),a=Object(t.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h2",{attrs:{id:"sophgo-tpu-compiler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sophgo-tpu-compiler"}},[n._v("#")]),n._v(" SOPHGO TPU Compiler")]),n._v(" "),e("p",[n._v("Two level:")]),n._v(" "),e("ol",[e("li",[n._v("top pass")])]),n._v(" "),e("ul",[e("li",[n._v("Canonicalize graph-node level optimization. kernel fusion: conv-relu, shape merge")]),n._v(" "),e("li",[n._v("Calibration: insert min and max to each operator for quantization")]),n._v(" "),e("li",[n._v("Lowering into tpu level according to operator tye")])]),n._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[n._v("tpu pass")])]),n._v(" "),e("ul",[e("li",[n._v("Canonicalize graph-node level optimization. merging requant")]),n._v(" "),e("li",[n._v("Weight reorder. reorder weights for specific operator according to chip characteristic")]),n._v(" "),e("li",[n._v("Subnet. divide net into subnets")]),n._v(" "),e("li",[n._v("Layergroup: divide net to maximize operator that can be computed in local mem")]),n._v(" "),e("li",[n._v("memassign: assign gloal memory for operators")]),n._v(" "),e("li",[n._v("Codegen. adopt flatbuffer type to generate model.")])]),n._v(" "),e("h2",{attrs:{id:"lowering"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lowering"}},[n._v("#")]),n._v(" Lowering")]),n._v(" "),e("h3",{attrs:{id:"_1-declaration-of-oprator-and-conversion-pass"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-declaration-of-oprator-and-conversion-pass"}},[n._v("#")]),n._v(" 1. Declaration of oprator and conversion pass")]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('       \n// include/tpu_mlir/Dialect/Tpu/IR/TpuOps.td\nclass Tpu_ConvOp<string mnemonic, list<Trait> traits = []> : Tpu_Op<mnemonic,\n    !listconcat(traits, [SupportFuseRelu,\n    DeclareOpInterfaceMethods<TypeInterface>,\n    DeclareOpInterfaceMethods<LocalGenInterface, ["BackwardH"]>])> {\n  let summary = "convolution operator";\n\n  let description = [{\n  }];\n\n  let arguments = (ins\n    AnyTensor:$input,\n    AnyTensor:$filter,\n    AnyTensorOrNone:$bias,\n    I64ArrayAttr:$kernel_shape,\n    I64ArrayAttr:$strides,\n    I64ArrayAttr:$pads, // top,left,bottom,right\n    DefaultValuedAttr<I64Attr, "1">:$group,\n    OptionalAttr<I64ArrayAttr>:$dilations,\n    OptionalAttr<I64ArrayAttr>:$inserts,\n    DefaultValuedAttr<BoolAttr, "false">:$do_relu,\n    DefaultValuedAttr<F64Attr, "-1.0">:$relu_limit,\n    //new param\n    BoolAttr:$with_bias,\n    DefaultValuedAttr<BoolAttr, "false">:$coeff_merged,\n    DefaultValuedAttr<I64Attr, "0">:$use_3ic_optimize,\n    DefaultValuedAttr<I64Attr, "0">:$kernel_zp,\n    OptionalAttr<I64ArrayAttr>:$multiplier,\n    OptionalAttr<I64ArrayAttr>:$rshift,\n    DefaultValuedAttr<Tpu_RequantModeAttr, "tpu::RequantMode::Normal">:$quant_mode,\n    OptionalAttr<Tpu_LayerGroupAttr>:$ginfo\n  );\n\n  let results = (outs AnyTensor:$output);\n  let extraClassDeclaration = [{\n    conv_attr_t parseParam();\n  }];\n}\n\n\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br")])])]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v('\n```\n// include/tpu_mlir/Conversion/Passes.td\ndef ConvertTopToTpu : Pass<"convert-top-to-tpu", "ModuleOp"> {\n  let summary = "Convert top-level Top Ops to Tpu Ops";\n  let constructor = "tpu_mlir::createConvertTopToTpu()";\n  let dependentDialects = ["tpu_mlir::top::TopDialect", "tpu_mlir::tpu::TpuDialect"];\n  let options = [\n    Option<"mode", "mode", "std::string", /*default=*/"",\n           "default quantization mode: INT8/BF16/F32">,\n    Option<"qtable", "qtable", "std::string", /*default=*/"",\n           "a table of Ops that quantized to specific mode">,\n    Option<"chip", "chip", "std::string", /*default=*/"",\n           "chip: cv183x/cv182x/bm1684/bm1684x">,\n    Option<"isAsymmetric", "asymmetric", "bool", /*default=*/"false",\n           "true for asymmetric quantization, or false for symmetric">,\n  ];\n}\n```\n')]),n._v(" "),e("h3",{attrs:{id:"_2-implementation-of-lowering"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-implementation-of-lowering"}},[n._v("#")]),n._v(" 2. Implementation of lowering")]),n._v(" "),e("p",[n._v("TopLowering is derived from mlir::OpRewritePattern")]),n._v(" "),e("p",[n._v("Each OPLowering will be declared.")]),n._v(" "),e("p",[n._v("include/tpu_mlir/Conversion/TopToTpu")]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('// TopLowering.h\ntemplate <typename OpTy> class TopLowering : public OpRewritePattern<OpTy> {\npublic:\n  using OpRewritePattern<OpTy>::OpRewritePattern;\n\n  LogicalResult matchAndRewrite(OpTy opTy,\n                                PatternRewriter &rewriter) const override {\n...\n  virtual void LoweringINT8(PatternRewriter &rewriter, OpTy opTy,\n                            bool asymmetric) const {\n    llvm_unreachable("Not Implemented");\n  }\n  virtual void LoweringINT4(PatternRewriter &rewriter, OpTy opTy,\n                            bool asymmetric) const {\n    LoweringINT8(rewriter, opTy, asymmetric);\n  }\n  virtual void LoweringBF16(PatternRewriter &rewriter, OpTy opTy) const {\n    llvm_unreachable("Not Implemented");\n  }\n  virtual void LoweringF16(PatternRewriter &rewriter, OpTy opTy) const {\n    llvm_unreachable("Not Implemented");\n  }\n  virtual void LoweringF32(PatternRewriter &rewriter, OpTy opTy) const {\n    llvm_unreachable("Not Implemented");\n  }\n  virtual void LoweringQuantized(PatternRewriter &rewriter, OpTy opTy) const {\n    llvm_unreachable("Not Implemented");\n  }\n                                \n}\n\n// LoweringBM1684X.h\n#define LOWERING_BM1684X(OP)                                                   \\\n  struct OP##Lowering : public TopLowering<top::OP##Op> {                      \\\n    OP##Lowering(MLIRContext *ctx) : TopLowering<top::OP##Op>(ctx) {}          \\\n    void LoweringINT8(PatternRewriter &rewriter, top::OP##Op op,               \\\n                      bool asymmetric) const override;                         \\\n    void LoweringINT4(PatternRewriter &rewriter, top::OP##Op op,               \\\n                      bool asymmetric) const override;                         \\\n    void LoweringBF16(PatternRewriter &rewriter,                               \\\n                      top::OP##Op op) const override;                          \\\n    void LoweringF16(PatternRewriter &rewriter,                                \\\n                     top::OP##Op op) const override;                           \\\n    void LoweringF32(PatternRewriter &rewriter,                                \\\n                     top::OP##Op op) const override;                           \\\n    void LoweringQuantized(PatternRewriter &rewriter,                          \\\n                           top::OP##Op op) const override;                     \\\n  };\n\nLOWERING_BM1684X(Abs)\nLOWERING_BM1684X(Add)\nLOWERING_BM1684X(AddConst)\nLOWERING_BM1684X(AvgPool)\nLOWERING_BM1684X(Cast)\nLOWERING_BM1684X(Concat)\nLOWERING_BM1684X(Conv)\nLOWERING_BM1684X(Deconv)\nLOWERING_BM1684X(Depth2Space)\nLOWERING_BM1684X(Div)\nLOWERING_BM1684X(Exp)\nLOWERING_BM1684X(Gather)\nLOWERING_BM1684X(GRU)\n\n...\n\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br"),e("span",{staticClass:"line-number"},[n._v("42")]),e("br"),e("span",{staticClass:"line-number"},[n._v("43")]),e("br"),e("span",{staticClass:"line-number"},[n._v("44")]),e("br"),e("span",{staticClass:"line-number"},[n._v("45")]),e("br"),e("span",{staticClass:"line-number"},[n._v("46")]),e("br"),e("span",{staticClass:"line-number"},[n._v("47")]),e("br"),e("span",{staticClass:"line-number"},[n._v("48")]),e("br"),e("span",{staticClass:"line-number"},[n._v("49")]),e("br"),e("span",{staticClass:"line-number"},[n._v("50")]),e("br"),e("span",{staticClass:"line-number"},[n._v("51")]),e("br"),e("span",{staticClass:"line-number"},[n._v("52")]),e("br"),e("span",{staticClass:"line-number"},[n._v("53")]),e("br"),e("span",{staticClass:"line-number"},[n._v("54")]),e("br"),e("span",{staticClass:"line-number"},[n._v("55")]),e("br"),e("span",{staticClass:"line-number"},[n._v("56")]),e("br"),e("span",{staticClass:"line-number"},[n._v("57")]),e("br"),e("span",{staticClass:"line-number"},[n._v("58")]),e("br"),e("span",{staticClass:"line-number"},[n._v("59")]),e("br"),e("span",{staticClass:"line-number"},[n._v("60")]),e("br"),e("span",{staticClass:"line-number"},[n._v("61")]),e("br"),e("span",{staticClass:"line-number"},[n._v("62")]),e("br"),e("span",{staticClass:"line-number"},[n._v("63")]),e("br"),e("span",{staticClass:"line-number"},[n._v("64")]),e("br"),e("span",{staticClass:"line-number"},[n._v("65")]),e("br")])])]),n._v(" "),e("p",[n._v("Then in ./lib/Conversion/TopToTpu/BM1684X/\neach operator will include a *.cpp that implement LoweringFunction.\n"),e("img",{attrs:{src:"https://github.com/user-attachments/assets/40cfb7b3-84e3-453f-8907-ee3237a1aeca",alt:"image"}})]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('void ConvLowering::LoweringF32(PatternRewriter &rewriter,\n                               top::ConvOp op) const {\n  rewriter.setInsertionPointAfter(op);\n  std::vector<Value> operands;\n  const int nInputs = op->getNumOperands();\n  for (auto i = 0; i < nInputs; ++i) {\n    operands.push_back(op->getOperand(i));\n  }\n  std::vector<NamedAttribute> attrs;\n  for (auto &attr : op->getAttrs()) {\n    attrs.push_back(attr);\n  }\n  bool with_bias = !op.getBias().getType().isa<mlir::NoneType>();\n  attrs.push_back(\n      rewriter.getNamedAttr("with_bias", rewriter.getBoolAttr(with_bias)));\n  auto newValue =\n      CreateConvOp(rewriter, op.getKernelShape().size(), op->getLoc(),\n                   op.getOutput().getType(), operands, attrs);\n  rewriter.replaceOp(op, {newValue});\n}\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br")])])]),n._v(" "),e("h3",{attrs:{id:"_3-lowering-in-converttoptotpu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-lowering-in-converttoptotpu"}},[n._v("#")]),n._v(" 3. Lowering in ConvertTopToTPU")]),n._v(" "),e("p",[e("strong",[n._v("bm1684x::populateTopToTpuConversionPatterns(&patterns);")])]),n._v(" "),e("p",[e("strong",[n._v("Reuse applyPatternsAndFoldGreedily")])]),n._v(" "),e("p",[n._v("lib/Conversion/TopToTPU/TopToTPUPass.cpp")]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('struct ConvertTopToTpu : public ::impl::ConvertTopToTpuBase<ConvertTopToTpu> {\npublic:\n  void runOnOperation() override {\n    RewritePatternSet patterns(ctx_);\n    ConversionTarget target(*ctx_);\n    target.addLegalDialect<tpu::TpuDialect, func::FuncDialect>();\n    // no need to lowering:\n    // Qi Note, add legal op, only NoneOp, InputOp, weightOp\n    target.addLegalOp<top::InputOp, top::WeightOp, top::NoneOp>();\n    if (module::isBM1684XFamily()) {\n      // Qi Note: Call LoweringBM1684X.cpp\n      // AddLowering to the patterns\n      bm1684x::populateTopToTpuConversionPatterns(&patterns);\n    } else if (module::isBM1684Family()) {\n      bm1684::populateTopToTpuConversionPatterns(&patterns);\n    } else if (module::isCV18xx()) {\n      cv18xx::populateTopToTpuConversionPatterns(&patterns);\n    } else {\n      llvm_unreachable("Not Implemented");\n    }\n    auto config = GreedyRewriteConfig();\n    config.maxIterations = 0; // apply each pattern only once.\n    // Qi Node: Apply pattern into module\n    // applyPatternsAndFoldGreedily is provided by MLIR\n    applyPatternsAndFoldGreedily(module_, std::move(patterns), config);\n    patterns.clear();\n    // \n    patterns.add<ForwardTypePattern<tpu::ReshapeOp>>(ctx_);\n    applyPatternsAndFoldGreedily(module_, std::move(patterns));\n    cast_process();\n    relu_process();\n    module::updateModuleTypes();\n    module::setState(module::State::TPU_LOWERED);\n  }\n}\n\n// Qi Node: this function will be called by\n// include/tpu_mlir/Conversion/Passes.td constructor\n// it will create the pass of converting top operator to tpu operator\nstd::unique_ptr<Pass> createConvertTopToTpu() {\n  return std::make_unique<ConvertTopToTpu>();\n}\n\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br"),e("span",{staticClass:"line-number"},[n._v("42")]),e("br"),e("span",{staticClass:"line-number"},[n._v("43")]),e("br")])])]),n._v(" "),e("details",[e("summary",[n._v("Code")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("void populateTopToTpuConversionPatterns(RewritePatternSet *patterns) {\n  patterns->add<\n      // clang-format off\n      AbsLowering,\n      AddLowering,\n      AddConstLowering,\n      AvgPoolLowering,\n      CastLowering,\n      ConcatLowering,\n      ConvLowering,\n      DeconvLowering,\n      Depth2SpaceLowering,\n      DivLowering,\n      ExpLowering,\n      GatherLowering,\n...\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br")])])]),n._v(" "),e("p",[n._v("This process is similar to LLVM pass.")])])}),[],!1,null,null,null);e.default=a.exports}}]);