(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{511:function(s,n,e){"use strict";e.r(n);var a=e(9),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"what-is-the-microarchitecture-of-gpgpu-sim"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-microarchitecture-of-gpgpu-sim"}},[s._v("#")]),s._v(" What is the microarchitecture of GPGPU-SIM?")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/user-attachments/assets/7829ceea-eb93-4d2d-8896-edc3eb2dbe66",alt:"image"}})]),s._v(" "),n("h4",{attrs:{id:"shader-core-ctx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shader-core-ctx"}},[s._v("#")]),s._v(" shader_core_ctx")]),s._v(" "),n("p",[s._v("This should be the streaming multiprocessors that exeutes at warp level and shares the same L1 cache.")]),s._v(" "),n("details",[n("summary",[s._v("Code")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// @@@@@@ shader.cc\nshader_core_ctx::shader_core_ctx( class gpgpu_sim *gpu, \n                                  class simt_core_cluster *cluster,\n                                  unsigned shader_id,\n                                  unsigned tpc_id,\n                                  const struct shader_core_config *config,\n                                  const struct memory_config *mem_config,\n                                  shader_core_stats *stats,\n\t\t\t\t  class gpgpu_new_stats *new_stats )\n   : core_t( gpu, NULL, config->warp_size, config->n_thread_per_shader ),\n     m_barriers( this, config->max_warps_per_shader, config->max_cta_per_core, config->max_barriers_per_cta, config->warp_size ),\n     m_dynamic_warp_id(0)\n{\n    ...\n    m_L1I = new read_only_cache( name,m_config->m_L1I_config,m_sid,get_shader_instruction_cache_id(),m_icnt,IN_L1I_MISS_QUEUE);\n    ...\n    m_warp.resize(m_config->max_warps_per_shader, shd_warp_t(this, warp_size));\n    m_scoreboard = new Scoreboard(m_sid, m_config->max_warps_per_shader);\n}\n\n// different stages:\n{\n    void decode();\n    \n    void issue();\n    friend class scheduler_unit; //this is needed to use private issue warp.\n    friend class TwoLevelScheduler;\n    friend class LooseRoundRobbinScheduler;\n    void issue_warp( register_set& warp, const warp_inst_t *pI, const active_mask_t &active_mask, unsigned warp_id );\n    void func_exec_inst( warp_inst_t &inst );\n\n     // Returns numbers of addresses in translated_addrs\n    unsigned translate_local_memaddr( address_type localaddr, unsigned tid, unsigned num_shader, unsigned datasize, new_addr_type* translated_addrs );\n\n    void read_operands();\n    \n    void execute();\n    \n    void writeback();\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br")])])]),s._v(" "),n("h4",{attrs:{id:"simt-core-cluster"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#simt-core-cluster"}},[s._v("#")]),s._v(" simt_core_cluster")]),s._v(" "),n("p",[s._v("This should be at GPU level.")]),s._v(" "),n("details",[n("summary",[s._v("Code")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// @@@@@@ shader.cc\nclass simt_core_cluster {\npublic:\n    simt_core_cluster( class gpgpu_sim *gpu, \n                       unsigned cluster_id, \n                       const struct shader_core_config *config, \n                       const struct memory_config *mem_config,\n                       shader_core_stats *stats,\n                       memory_stats_t *mstats,\n\t\t       class gpgpu_new_stats *new_stats ) {\n\n  }\n}\n\nsimt_core_cluster::simt_core_cluster( class gpgpu_sim *gpu, \n                                      unsigned cluster_id, \n                                      const struct shader_core_config *config, \n                                      const struct memory_config *mem_config,\n                                      shader_core_stats *stats, \n                                      class memory_stats_t *mstats,\n\t\t\t\t      class gpgpu_new_stats *new_stats )\n{\n    m_config = config;\n    m_cta_issue_next_core=m_config->n_simt_cores_per_cluster-1; // this causes first launch to use hw cta 0\n    m_cluster_id=cluster_id;\n    m_gpu = gpu;\n    m_stats = stats;\n    m_memory_stats = mstats;\n    \n    m_new_stats = new_stats;\n\n    m_core = new shader_core_ctx*[ config->n_simt_cores_per_cluster ];\n    for( unsigned i=0; i < config->n_simt_cores_per_cluster; i++ ) {\n        unsigned sid = m_config->cid_to_sid(i,m_cluster_id);\n        m_core[i] = new shader_core_ctx(gpu,this,sid,m_cluster_id,config,mem_config,stats, new_stats);\n        m_core_sim_order.push_back(i); \n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])])]),s._v(" "),n("h4",{attrs:{id:"how-thread-block-is-issued-to-stream-multiprocessor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#how-thread-block-is-issued-to-stream-multiprocessor"}},[s._v("#")]),s._v(" how thread block is issued to stream multiprocessor?")]),s._v(" "),n("p",[s._v("gpgpu-sim cycle() function")]),s._v(" "),n("details",[n("summary",[s._v("Code")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// @@@@@@ gpgpu_sim\nvoid gpgpu_sim::cycle()\n{\n    ...\n    m_cluster[i]->icnt_cycle();\n    ...\n    m_memory_partition_unit[i]->dram_cycle();\n    ...\n    m_memory_sub_partition[i]->cache_cycle(gpu_sim_cycle+gpu_tot_sim_cycle);\n    ...\n    icnt_transfer();\n    ...\n    for (unsigned i=0;i<m_shader_config->n_simt_clusters;i++) {\n        if (m_cluster[i]->get_not_completed() || get_more_cta_left() ) {\n            m_cluster[i]->core_cycle();\n            *active_sms+=m_cluster[i]->get_n_active_sms();\n         }\n    }\n    issue_block2core();\n}\n\nvoid gpgpu_sim::issue_block2core()\n{\n    unsigned last_issued = m_last_cluster_issue; \n    for (unsigned i=0;i<m_shader_config->n_simt_clusters;i++) {\n        unsigned idx = (i + last_issued + 1) % m_shader_config->n_simt_clusters;\n        unsigned num = m_cluster[idx]->issue_block2core();\n        if( num ) {\n            m_last_cluster_issue=idx;\n            m_total_cta_launched += num;\n        }\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])])]),s._v(" "),n("p",[s._v("simt_core_cluster issue block to stream multiprocessr.")]),s._v(" "),n("details",[n("summary",[s._v("Code")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// @@@@@@ shader.cc\nunsigned simt_core_cluster::issue_block2core()\n{\n    unsigned num_blocks_issued=0;\n    for( unsigned i=0; i < m_config->n_simt_cores_per_cluster; i++ ) {\n        unsigned core = (i+m_cta_issue_next_core+1)%m_config->n_simt_cores_per_cluster;\n\n        kernel_info_t * kernel;\n\n        if(m_config->gpgpu_concurrent_kernel_sm) {//concurrent kernel on sm \n            //always select latest issued kernel\n            kernel_info_t *k = m_gpu->select_kernel();\n            kernel = k;\n        }\n\t...\n\n        if( m_gpu->kernel_more_cta_left(kernel) && \n            m_core[core]->can_issue_1block(*kernel)) {\n            m_core[core]->issue_block2core(*kernel);\n            ...\n        }\n    }\n    return num_blocks_issued;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])]),s._v(" "),n("h3",{attrs:{id:"configuration-file"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configuration-file"}},[s._v("#")]),s._v(" configuration file")]),s._v(" "),n("p",[s._v("./config/GeForceGTX1080Ti/gpgpusim.config")]),s._v(" "),n("p",[s._v("gpgpu_n_clusters means the number of stream multiprocessing cores")]),s._v(" "),n("details",[n("summary",[s._v("Code")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# high level architecture configuration\n-gpgpu_n_clusters 28\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("p",[n("strong",[s._v("How does gpgpu-sim configure the number of cores inside the SM? I didn't find any configuration for that.")])])])}),[],!1,null,null,null);n.default=t.exports}}]);